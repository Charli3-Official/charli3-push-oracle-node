"""Mocked Vars and Functions for testing process"""
import json
import cbor2

from mocket.plugins.httpretty import httpretty
from pycardano import (
    Address,
    AssetName,
    MultiAsset,
    Network,
    PaymentSigningKey,
    PaymentVerificationKey,
    PlutusV2Script,
    ScriptHash,
)

from backend.api import AggregatedCoinRate
from backend.core.datums import AggDatum, AggState, NodeFee, OracleSettings

from .utxo_mocker import utxo_mocker

MOCKED_ORACLE_ADDRESS = (
    "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj"
)

MOCKED_UPDATE_INTERVAL = 600

MOCKED_PERCENT_RESOLUTION = 10000

MOCKED_SCRIPT_HASH = ScriptHash.from_primitive(
    "436941ead56c61dbf9b92b5f566f7d5b9cac08f8c957f28f0bd60d4b"
)

MOCKED_API_URL = "http://localhost:9083/api"

MOCKED_CHAIN_QUERY_CONTEXT = (
    "preprodjxcUodunMUMtjBqnyQ0bLMnREkXHa6CN",
    Network.TESTNET,
    MOCKED_API_URL,
    MOCKED_ORACLE_ADDRESS,
)

MOCKED_UTXO_JSON = [
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "3179d110ff4fae77ada5dc91b39e3fec65076ff7627047806ee5c8b73432cda2",
        "tx_index": 1,
        "output_index": 1,
        "amount": [
            {"unit": "lovelace", "quantity": "2000000"},
            {
                "unit": "363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772714e6f646546656564",
                "quantity": "1",
            },
        ],
        "block": "b15b906c1e14d02bb58d14b1a912f57f872e1e530a681fb57bcc7c0cdc32f604",
        "data_hash": "4025dd6ed651959e3d438835a5c81c3f162c337190e78ab3f69176cb4e3f2e6f",
        "inline_datum": "d87a9fd8799fd8799f581cec4c1994d79d1a07f26f5bd7aba2858cd03c0d1f1f18cfd2cf22ff60ffd87a80ffff",  # pylint: disable=line-too-long
        "reference_script_hash": None,
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "eef69a0e188f482b4554c6769545c4d6fa912e10d7f4f6e6ea7a09451d02a6e0",
        "tx_index": 0,
        "output_index": 0,
        "amount": [{"unit": "lovelace", "quantity": "20000000"}],
        "block": "0b50a220a52b11bed039fbd1ad3555f635f4eb0e85bd6aa904c5fd38dcfc4f8d",
        "data_hash": None,
        "inline_datum": None,
        "reference_script_hash": "599ed749927f5613e2cac2e6eea9ff862fdb01e79f2da132b7731255",
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "a2adbcf7cd84d9f2ca08f903b4a8a6884f1625316a63d66caa650f2a6edd3b93",
        "tx_index": 0,
        "output_index": 0,
        "amount": [{"unit": "lovelace", "quantity": "10000000000"}],
        "block": "7f9c54dde97eea7231fa1eaf7fbdbedf5f63ebea7904c11824dfbcc3dbb5162e",
        "data_hash": None,
        "inline_datum": None,
        "reference_script_hash": None,
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "4aef7d970186a3b4044d088b283da0bc5a151a9023a5b20e6685e10b491bd2e7",
        "tx_index": 0,
        "output_index": 0,
        "amount": [{"unit": "lovelace", "quantity": "9000000"}],
        "block": "232b06bd5328a23f16d30b0fba91cf39d959c19267da9dd26e6604cfe7c1b455",
        "data_hash": None,
        "inline_datum": None,
        "reference_script_hash": None,
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "acc241e59a39b4653a57d6549987f0ad79533d50daacbc1b6d503fe3369268e8",
        "tx_index": 0,
        "output_index": 0,
        "amount": [
            {"unit": "lovelace", "quantity": "2000000"},
            {
                "unit": "363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772714167675374617465",
                "quantity": "1",
            },
            {
                "unit": "436941ead56c61dbf9b92b5f566f7d5b9cac08f8c957f28f0bd60d4b5041594d454e54544f4b454e",  # pylint: disable=line-too-long
                "quantity": "2182000",
            },
        ],
        "block": "e7c8bb7f7b82f971954c204390c8ba370b3f8558029f537e9de002e11da54a96",
        "data_hash": "4ec4ad5ab2779403a00ea6dacdb2fedb1ad0b8578eb640553d99e803290d4902",
        "inline_datum": "d87b9fd8799fd8799f9f581cec4c1994d79d1a07f26f5bd7aba2858cd03c0d1f1f18cfd2cf22ff60581cd45d7fdef7e6eba8db890356c6a67e1e140d1693985c92a9b83336bdff1913881a000927c01a000927c01907d0d8799f1903e8ff1907d0191388ffffff",  # pylint: disable=line-too-long
        "reference_script_hash": None,
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "acc241e59a39b4653a57d6549987f0ad79533d50daacbc1b6d503fe3369268e8",
        "tx_index": 1,
        "output_index": 1,
        "amount": [
            {"unit": "lovelace", "quantity": "2000000"},
            {
                "unit": "363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772714f7261636c6546656564",  # pylint: disable=line-too-long
                "quantity": "1",
            },
        ],
        "block": "e7c8bb7f7b82f971954c204390c8ba370b3f8558029f537e9de002e11da54a96",
        "data_hash": "c0a0c01856c6b4ab63e4a8e825e3712d825209e56a3203fe2d2cd66aff7bc475",
        "inline_datum": "d8799fd87b9fa3001a0005fb4f011b00000186554fc46e021b000001865558ec2effff",
        "reference_script_hash": None,
    },
    {
        "address": "addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj",
        "tx_hash": "acc241e59a39b4653a57d6549987f0ad79533d50daacbc1b6d503fe3369268e8",
        "tx_index": 2,
        "output_index": 2,
        "amount": [
            {"unit": "lovelace", "quantity": "2000000"},
            {
                "unit": "363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772714e6f646546656564",
                "quantity": "1",
            },
            {
                "unit": "436941ead56c61dbf9b92b5f566f7d5b9cac08f8c957f28f0bd60d4b5041594d454e54544f4b454e", # pylint: disable=line-too-long
                "quantity": "1818000",
            },
        ],
        "block": "e7c8bb7f7b82f971954c204390c8ba370b3f8558029f537e9de002e11da54a96",
        "data_hash": "255a334d0a4f096434d9501c961990345088bde820d7fb70493b0c59fd6f4752",
        "inline_datum": "d87a9fd8799fd8799f581cd45d7fdef7e6eba8db890356c6a67e1e140d1693985c92a9b83336bdffd8799fd8799f1a0005fb4f1b00000186554fc46effffffff", # pylint: disable=line-too-long
        "reference_script_hash": None,
    },
]

MOCKED_AGG_STATE_UTXO_JSON = [MOCKED_UTXO_JSON[4]]

MOCKED_ORACLE_UTXO_JSON = [MOCKED_UTXO_JSON[5]]

MOCKED_EPOCH_JSON = {
    "epoch": 52,
    "start_time": 1676505600,
    "end_time": 1676937600,
    "first_block_time": 1676505642,
    "last_block_time": 1676629376,
    "block_count": 5046,
    "tx_count": 5923,
    "output": "221718628189527",
    "fees": "2336523636",
    "active_stake": "219784447694284",
}

MOCKED_NODE_UTXO_JSON = [MOCKED_UTXO_JSON[6]]

MOCKED_BLOCKFROST_API_CALL = {
    "api_url": MOCKED_API_URL,
    "api_call": {
        "v0_epochs_latest": {
            "url": "/v0/epochs/latest",
            "body": {},
            "response": MOCKED_EPOCH_JSON,
        },
        "api_v0_address_utxos": {
            "url": "/api/v0/addresses/addr_test1wpvea46fjfl4vylzetpwdm4fl7rzlkcpu70jmgfjkae3y4ge3vqtj/utxos", # pylint: disable=line-too-long
            "body": {},
            "response": MOCKED_UTXO_JSON,
        },
        "api_v0_scripts_cbor": {
            "url": "/api/v0/scripts/599ed749927f5613e2cac2e6eea9ff862fdb01e79f2da132b7731255/cbor",
            "body": {},
            "reponse": {
                "cbor": "59106301000033233223232332232323232323233222232322323223232533533300a5335333333357480124a66a666ae68cdc3a8042400001a01826a0322444600201a2a66a601c6aae794024540608c8c8c8c8c8854cd400454cd4ccd5cd19b87500f4800805004c54cd4ccccccd5d200391999ab9a3370e6aae7540152000233335573ea00a4a04446666aae7d40149408c8cccd55cf9aba25006253353232323333333574800646666ae68cdc39aab9d5003480008cccd55cfa8019281511999aab9f35744a0084a66a60526ae85401484d40b4004540ac940ac0a40a0940a4080940a0940a0940a0940a00984d55cf280089baa00135742a01042a66a646464646666666ae900108cccd5cd19b875002480008cccd55cfa8021281611999aab9f35744a00a4a66a646464646666666ae900108cccd5cd19b8735573aa008900011999aab9f500425034233335573ea0084a06a46666aae7cd5d128029299a98181aba15007215335303135742a00e426a07224660020060042a06e2a06c4a06c0680660644a0660544a0644a0644a0644a06406026ae8940044d55cf280089baa00135742a00c426a05e6a05e0022a05a4a05a05605446666ae68cdc3a801a400446666aae7d40148d40b940b4940b40ac940b008c088940a8940a8940a8940a80a04d55cea80109aab9e5001137540026ae85402084d409c48cc00400c008540945409094090088084080940840609408094080940809408007884d40844888c0080105407c54cd4ccd5cd19b87500f4801005004c54cd4ccccccd5d200391999ab9a3370e6aae75401d2000233335573ea00e4a04446666aae7cd5d128041299a991919191919191919191999999aba400a23333573466e1cd55cea8052400046666aae7d4028940c08cccd55cfa8051281891999aab9f500a25032233335573ea0144a06646666aae7d4028940d08cccd55cfa8051281a91999aab9f500a25036233335573ea0144a06e46666aae7cd5d128059299a991999999aba40012503a2503a2303537580044a0744a0740706ae85404c854cd4c0ccd5d0a80990a99a981a1aba15013215335303535742a02642a66a606c6ae85404c854cd4c8c8c8ccccccd5d200191999ab9a3370e6aae75400d2000233335573ea0064a08646666aae7cd5d128021299a981f1aba1500521350460011504425044042041250420392504125041250412504103f135573ca00226ea8004d5d0a80990a99a981c1aba15013215335303935742a026426a082246666666600201201000e00c00a0080060042a07e2a07c2a07a2a0782a0762a0742a0722a0704a07006c06a06806606406206005e05c4a05e04c4a05c4a05c4a05c4a05c05826ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a804909a8128008a811928118108101281080c1281012810128101281000f109a810891118018020a80f8a80f910a81089aba25001135573ca00226ea800c4d55cf280089baa00125018250182501825018016210011326320103357389201154661696c656420746f20706172736520646174756d000163333573466e1d4011200c21222222200423333573466e1d4015200a21222222200223333573466e1d4019200821222222200123333573466e1d401d2006232122222223003008375c6ae84d55cf280491999ab9a3370ea010900210911111100391999ab9a3370ea012900110911111100311999ab9a3370ea014900010911111100291931900b99ab9c01701d01501401301201101000f3333573466e1cd55cea80124000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008d5d0a8061aba1500b35742a0146ae854024d5d0a8041aba1500735742a00c6ae854014d5d0a8021aba1500335742a0046ae84d5d1280111931900f99ab9c01f02501d135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a0046464646666ae68cdc3a800a400c46424444600800a6464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a9002119910911111119803004804180f1aba15009375c6ae84d5d1280491999ab9a3370ea00c9001119091111111803804180f9aba135573ca01646666ae68cdc3a803a400046424444444600a01060406ae84d55cf280611931901119ab9c02202802001f01e01d01c01b01a135573aa00826aae79400c4d55cf280109aab9e5001137540026ae84d55cf280191999ab9a3370ea0049002119091111801002980a1aba135573ca00846666ae68cdc3a801a400446424444600200a6464646666ae68cdc39aab9d5002480008cc8848cc00400c008c8c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8078cd5ce00f01200e09baa00135742a0046eb4d5d09aba2500223263201b33573803604203226aae7940044dd50009aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263201833573803003c02c02a02802626aae7540044dd50009aba135744a004464c6402266ae7004405c03c40584c98c8040cd5ce24810350543500016135573ca00226ea80044d55cea80089baa001135573aa00226ea8004488008488004c8004d5403088cccd55cf80092805119a8049aba10023003357440040084646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c8038cd5ce00700a00600589aab9d5001137540026ae84d55cf280311931900499ab9c00900f007006135573aa00626ae8940044d55cf280089baa001499240103505431002333333357480024a0104a0104a01046a0126eb400894020018c8004d5401c88cccd55cf80091a804a8029299a98031aba1002215335300435744006426a01666a00c0040022a0122a01000c22440042442446600200800646666666ae90004940109401094010940108d4014dd70010010900089091180100188910008891918008009119801980100100099919191991191919911919191919191919191911111a800911a8011111111111911129999999a8088999a809119980e00080a280291980a80a00811980a80a0080999a8091181124c466036002a00a46044930999a8091181124c466036002a00a460449309980e009a80210999a809919980e80080aa80311980b00a80891980b00a80889980e009a80209810a4c2a66a66a022eb80044c0712622153350011002221302049888d4008888c888d401c888888888888c8c040004cd40548c8c8cccd5cd19b8735573aa00490001199109198008018011919191999ab9a3370e6aae754009200023322123300100300232323333573466e1cd55cea800a400046eb8d5d09aab9e500223263203033573804806005c26ea8004d5d0a8011bad357426ae8940088c98c80b4cd5ce01081681589aab9e5001137540026ae854008c8c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002302635742a00466a04a4646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002321223002003302d357426aae7940188c98c80e8cd5ce01701d01c01b89aab9d5003135744a00226aae7940044dd50009aba135744a004464c6406666ae7009c0cc0c44d55cf280089baa00135742a008666aa040eb8cd54081d73ad35742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c80d4cd5ce01481a81981901889aab9d5001137540026ae854008cd4085d71aba135744a004464c6405e66ae7008c0bc0b44d5d1280089aba25001135573ca00226ea8004d5d09aba2500223263202933573803a05204e26aae7940044dd5000806190009aa80b91299a80089931900c19ab9c491287370656e64696e6741676753746174655554784f3a204d697373696e67206167672073746174652e0001822135002223500122225335333573466e1cd402c88c8c8c00401cc8004d5409088cd400520002235002225335333573466e3c00802409c0984c01c0044c01800cc8004d5408c88cd400520002235002225335333573466e3c00801c09809440044c01800d200201e01d101e1300a0071232230023758002640026aa024446666aae7c004940388cd4034c010d5d080118019aba2002013112232230023756002640026aa02444646666aae7c0089403c8cd4038cc8848cc00400c008c018d55cea80118029aab9e500230043574400602826ae84004488c8c8cccd5cd19b875001480008c8488c00800cc014d5d09aab9e500323333573466e1d40092002212200123263201433573801002802402226aae7540044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6402466ae7001804804003c4d55cea80089baa0014910350543100225335333573466e3cd40088800800402c028402c4cd5ce24926636865636b5369676e656442794e6f64653a2057726f6e67206e6f6465206f70657261746f720000a22235003222222223500a2222253353301100f00e1018133355301212001323212330012233350052200200200100235001220011233001225335002101b10010182333573466e3c00403c064060cd404c01403488d4008888894cd4ccd5cd19b8f00500600e00d100e133573892123636865636b5369676e656442794f7261636c653a2057726f6e67206f70657261746f720000d32001355009221122253350011350032200122133350052200230040023335530071200100500400111220021221223300100400323562623263200533573892128496e76616c696420646174756d20666f72207468652070726f76696465642072656465656d65722e0000512200212200149848004448c8c00400488cc00cc008008004cd4488cd4488ccccc00922011c1a550d5f572584e1add125b5712f709ac3b9828ad86581a4759022ba0033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772710048810a4f7261636c65466565640033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772710048810841676753746174650033550044891c436941ead56c61dbf9b92b5f566f7d5b9cac08f8c957f28f0bd60d4b0048810c5041594d454e54544f4b454e0033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b377271004881084e6f646546656564002222212333330010060050040030022001112212330010030021120011" # pylint: disable=line-too-long
            },
        },
    },
}

MOCK_ORACLE_NFT_HASH = ScriptHash.from_primitive(
    "363a52dab212e1008af1d8fcb51398617087d570e274aa483b377271"
)

MOCKED_RUNNER_AGG_STATE = AggDatum(
    aggstate=AggState(
        ag_settings=OracleSettings(
            os_node_list=[
                b'\xecL\x19\x94\xd7\x9d\x1a\x07\xf2o[\xd7\xab\xa2\x85\x8c\xd0<\r\x1f\x1f\x18\xcf\xd2\xcf"\xff`', # pylint: disable=line-too-long
                b"\xd4]\x7f\xde\xf7\xe6\xeb\xa8\xdb\x89\x03V\xc6\xa6~\x1e\x14\r\x16\x93\x98\\\x92\xa9\xb836\xbd", # pylint: disable=line-too-long
            ],
            os_updated_nodes=5000,
            os_updated_node_time=600000,
            os_aggregate_time=600000,
            os_aggregate_change=2000,
            os_node_fee_price=NodeFee(get_node_fee=1000),
            os_mad_multiplier=2000,
            os_divergence=5000,
        )
    )
)


def node_config(context_provider):
    """Mocker for node config"""
    return (
        Network.TESTNET,
        context_provider,
        PaymentSigningKey.from_json(
            json.dumps(
                {
                    "type": "PaymentSigningKeyShelley_ed25519",
                    "description": "Payment Signing Key",
                    "cborHex": "58200cb9766adcb8787bf3934685a0b7ed07b9ec46ec06c739918dff61c7cace21bb", # pylint: disable=line-too-long
                }
            )
        ),
        PaymentVerificationKey.from_json(
            json.dumps(
                {
                    "type": "PaymentVerificationKeyShelley_ed25519",
                    "description": "Payment Verification Key",
                    "cborHex": "582064536f270b498b1ea8140f8028b0a387b95ce80f573f011cd8535bdb621096ac", # pylint: disable=line-too-long
                }
            )
        ),
        MultiAsset.from_primitive(
            {MOCK_ORACLE_NFT_HASH.payload: {bytes("NodeFeed", "utf-8"): 1}}
        ),
        MultiAsset.from_primitive(
            {MOCK_ORACLE_NFT_HASH.payload: {bytes("AggState", "utf-8"): 1}}
        ),
        MultiAsset.from_primitive(
            {MOCK_ORACLE_NFT_HASH.payload: {bytes("OracleFeed", "utf-8"): 1}}
        ),
        Address.from_primitive(MOCKED_ORACLE_ADDRESS),
        MOCKED_SCRIPT_HASH,
        AssetName(bytes("testcoin", "utf-8")),
    )


def register_api_uri(path, url, body, response):
    """Helper method to mock http endpoints"""

    httpretty.register_uri(
        httpretty.GET,
        f"{path}{url}",
        body=json.dumps(body),
        **{
            "Content-Type": "application/json",
            "project_id": response,
        },
    )


def get_mocked_init(*args, **kwargs):
    """Overrides initalization. receives params, and returns nothing"""

    if args or kwargs:
        return None

    return None


MOCKED_UTXOS_RESPONSE = utxo_mocker(
    MOCKED_ORACLE_ADDRESS,
    MOCKED_UTXO_JSON,
)
MOCKED_UTXOS_RESPONSE[0].output.script = PlutusV2Script(
    cbor2.loads(
        bytes.fromhex(
            "59106301000033233223232332232323232323233222232322323223232533533300a5335333333357480124a66a666ae68cdc3a8042400001a01826a0322444600201a2a66a601c6aae794024540608c8c8c8c8c8854cd400454cd4ccd5cd19b87500f4800805004c54cd4ccccccd5d200391999ab9a3370e6aae7540152000233335573ea00a4a04446666aae7d40149408c8cccd55cf9aba25006253353232323333333574800646666ae68cdc39aab9d5003480008cccd55cfa8019281511999aab9f35744a0084a66a60526ae85401484d40b4004540ac940ac0a40a0940a4080940a0940a0940a0940a00984d55cf280089baa00135742a01042a66a646464646666666ae900108cccd5cd19b875002480008cccd55cfa8021281611999aab9f35744a00a4a66a646464646666666ae900108cccd5cd19b8735573aa008900011999aab9f500425034233335573ea0084a06a46666aae7cd5d128029299a98181aba15007215335303135742a00e426a07224660020060042a06e2a06c4a06c0680660644a0660544a0644a0644a0644a06406026ae8940044d55cf280089baa00135742a00c426a05e6a05e0022a05a4a05a05605446666ae68cdc3a801a400446666aae7d40148d40b940b4940b40ac940b008c088940a8940a8940a8940a80a04d55cea80109aab9e5001137540026ae85402084d409c48cc00400c008540945409094090088084080940840609408094080940809408007884d40844888c0080105407c54cd4ccd5cd19b87500f4801005004c54cd4ccccccd5d200391999ab9a3370e6aae75401d2000233335573ea00e4a04446666aae7cd5d128041299a991919191919191919191999999aba400a23333573466e1cd55cea8052400046666aae7d4028940c08cccd55cfa8051281891999aab9f500a25032233335573ea0144a06646666aae7d4028940d08cccd55cfa8051281a91999aab9f500a25036233335573ea0144a06e46666aae7cd5d128059299a991999999aba40012503a2503a2303537580044a0744a0740706ae85404c854cd4c0ccd5d0a80990a99a981a1aba15013215335303535742a02642a66a606c6ae85404c854cd4c8c8c8ccccccd5d200191999ab9a3370e6aae75400d2000233335573ea0064a08646666aae7cd5d128021299a981f1aba1500521350460011504425044042041250420392504125041250412504103f135573ca00226ea8004d5d0a80990a99a981c1aba15013215335303935742a026426a082246666666600201201000e00c00a0080060042a07e2a07c2a07a2a0782a0762a0742a0722a0704a07006c06a06806606406206005e05c4a05e04c4a05c4a05c4a05c4a05c05826ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a804909a8128008a811928118108101281080c1281012810128101281000f109a810891118018020a80f8a80f910a81089aba25001135573ca00226ea800c4d55cf280089baa00125018250182501825018016210011326320103357389201154661696c656420746f20706172736520646174756d000163333573466e1d4011200c21222222200423333573466e1d4015200a21222222200223333573466e1d4019200821222222200123333573466e1d401d2006232122222223003008375c6ae84d55cf280491999ab9a3370ea010900210911111100391999ab9a3370ea012900110911111100311999ab9a3370ea014900010911111100291931900b99ab9c01701d01501401301201101000f3333573466e1cd55cea80124000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008d5d0a8061aba1500b35742a0146ae854024d5d0a8041aba1500735742a00c6ae854014d5d0a8021aba1500335742a0046ae84d5d1280111931900f99ab9c01f02501d135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a0046464646666ae68cdc3a800a400c46424444600800a6464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a9002119910911111119803004804180f1aba15009375c6ae84d5d1280491999ab9a3370ea00c9001119091111111803804180f9aba135573ca01646666ae68cdc3a803a400046424444444600a01060406ae84d55cf280611931901119ab9c02202802001f01e01d01c01b01a135573aa00826aae79400c4d55cf280109aab9e5001137540026ae84d55cf280191999ab9a3370ea0049002119091111801002980a1aba135573ca00846666ae68cdc3a801a400446424444600200a6464646666ae68cdc39aab9d5002480008cc8848cc00400c008c8c8cccd5cd19b8735573aa002900011bae357426aae7940088c98c8078cd5ce00f01200e09baa00135742a0046eb4d5d09aba2500223263201b33573803604203226aae7940044dd50009aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263201833573803003c02c02a02802626aae7540044dd50009aba135744a004464c6402266ae7004405c03c40584c98c8040cd5ce24810350543500016135573ca00226ea80044d55cea80089baa001135573aa00226ea8004488008488004c8004d5403088cccd55cf80092805119a8049aba10023003357440040084646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c8038cd5ce00700a00600589aab9d5001137540026ae84d55cf280311931900499ab9c00900f007006135573aa00626ae8940044d55cf280089baa001499240103505431002333333357480024a0104a0104a01046a0126eb400894020018c8004d5401c88cccd55cf80091a804a8029299a98031aba1002215335300435744006426a01666a00c0040022a0122a01000c22440042442446600200800646666666ae90004940109401094010940108d4014dd70010010900089091180100188910008891918008009119801980100100099919191991191919911919191919191919191911111a800911a8011111111111911129999999a8088999a809119980e00080a280291980a80a00811980a80a0080999a8091181124c466036002a00a46044930999a8091181124c466036002a00a460449309980e009a80210999a809919980e80080aa80311980b00a80891980b00a80889980e009a80209810a4c2a66a66a022eb80044c0712622153350011002221302049888d4008888c888d401c888888888888c8c040004cd40548c8c8cccd5cd19b8735573aa00490001199109198008018011919191999ab9a3370e6aae754009200023322123300100300232323333573466e1cd55cea800a400046eb8d5d09aab9e500223263203033573804806005c26ea8004d5d0a8011bad357426ae8940088c98c80b4cd5ce01081681589aab9e5001137540026ae854008c8c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002302635742a00466a04a4646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002321223002003302d357426aae7940188c98c80e8cd5ce01701d01c01b89aab9d5003135744a00226aae7940044dd50009aba135744a004464c6406666ae7009c0cc0c44d55cf280089baa00135742a008666aa040eb8cd54081d73ad35742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c80d4cd5ce01481a81981901889aab9d5001137540026ae854008cd4085d71aba135744a004464c6405e66ae7008c0bc0b44d5d1280089aba25001135573ca00226ea8004d5d09aba2500223263202933573803a05204e26aae7940044dd5000806190009aa80b91299a80089931900c19ab9c491287370656e64696e6741676753746174655554784f3a204d697373696e67206167672073746174652e0001822135002223500122225335333573466e1cd402c88c8c8c00401cc8004d5409088cd400520002235002225335333573466e3c00802409c0984c01c0044c01800cc8004d5408c88cd400520002235002225335333573466e3c00801c09809440044c01800d200201e01d101e1300a0071232230023758002640026aa024446666aae7c004940388cd4034c010d5d080118019aba2002013112232230023756002640026aa02444646666aae7c0089403c8cd4038cc8848cc00400c008c018d55cea80118029aab9e500230043574400602826ae84004488c8c8cccd5cd19b875001480008c8488c00800cc014d5d09aab9e500323333573466e1d40092002212200123263201433573801002802402226aae7540044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6402466ae7001804804003c4d55cea80089baa0014910350543100225335333573466e3cd40088800800402c028402c4cd5ce24926636865636b5369676e656442794e6f64653a2057726f6e67206e6f6465206f70657261746f720000a22235003222222223500a2222253353301100f00e1018133355301212001323212330012233350052200200200100235001220011233001225335002101b10010182333573466e3c00403c064060cd404c01403488d4008888894cd4ccd5cd19b8f00500600e00d100e133573892123636865636b5369676e656442794f7261636c653a2057726f6e67206f70657261746f720000d32001355009221122253350011350032200122133350052200230040023335530071200100500400111220021221223300100400323562623263200533573892128496e76616c696420646174756d20666f72207468652070726f76696465642072656465656d65722e0000512200212200149848004448c8c00400488cc00cc008008004cd4488cd4488ccccc00922011c1a550d5f572584e1add125b5712f709ac3b9828ad86581a4759022ba0033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772710048810a4f7261636c65466565640033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b3772710048810841676753746174650033550044891c436941ead56c61dbf9b92b5f566f7d5b9cac08f8c957f28f0bd60d4b0048810c5041594d454e54544f4b454e0033550044891c363a52dab212e1008af1d8fcb51398617087d570e274aa483b377271004881084e6f646546656564002222212333330010060050040030022001112212330010030021120011" # pylint: disable=line-too-long
        )
    )
)


def get_mocked_utxos(*args, **kwargs):
    """Overrides initalization. receives params, and returns utxos"""

    if args or kwargs:
        return MOCKED_UTXOS_RESPONSE

    return MOCKED_UTXOS_RESPONSE


async def async_get_mocked_utxos():
    """Overrides initalization. receives params, and returns utxos with async"""

    utxos = utxo_mocker(MOCKED_ORACLE_ADDRESS, MOCKED_UTXO_JSON)
    return utxos


MOCKED_RATE_CLASS = AggregatedCoinRate()
MOCKED_RATE_CLASS.add_base_data_provider(
    "generic",
    "kraken",
    {
        "symbol": "ADAUSD",
        "api_url": "https://api.kraken.com",
        "path": "/0/public/Ticker?pair=",
        "json_path": ["result", "ADAUSD", "o"],
        "key": {},
    },
)
MOCKED_RATE_CLASS.add_base_data_provider(
    "generic",
    "kucoin",
    {
        "symbol": "BTC-USDT",
        "api_url": "https://openapi-sandbox.kucoin.com",
        "path": "/api/v1/market/orderbook/level1?symbol=",
        "json_path": ["data", "price"],
        "key": {},
    },
)
